{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"Changement_de_syst\u00e8me_de_coordonn\u00e9es.html","text":"Changement de syst\u00e8me de coordonn\u00e9es Objectif Depuis un plan d\u2019architecte non g\u00e9or\u00e9f\u00e9renc\u00e9, nous allons le g\u00e9or\u00e9f\u00e9rencer en MN03 \u00e0 l\u2019aide d\u2019une projection Affine, puis le convertir en MN95. Nous disposons en effet d\u2019un fichier de points de base (syst\u00e8me local vers MN03). Pour finalement aboutir en MN95, il nous faudra effectuer une op\u00e9ration suppl\u00e9mentaire. Ressource Workspace : exo\\ ex_changement_syst\u00e8me_coordonn\u00e9es\\ ex_changement_syst\u00e8me_coordonn\u00e9e_start.fmw, nous d\u00e9butons l\u2019exercice avec un workspace vide Donn\u00e9es : exo\\ ex_changement_syst\u00e8me_coordonn\u00e9es\\ressources\\plan.dwg \u2013 Fichier DWG, plan d\u2019une maison exo\\ ex_changement_syst\u00e8me_coordonn\u00e9es\\ ressources\\callage.csv - fichier CSV contenant les coordonn\u00e9es locales et les coordonn\u00e9es MN03 Exercice Ajouter une reader \u00abAutodesk AutoCAD DWG/DXF \u00bb et s\u00e9lectionner le fichier DWG Cliquer sur \u00ab OK \u00bb. Dans la seconde fen\u00eatre, on importe uniquement le calque O du DWG. Ajouter maintenant le fichier de calage CSV. Pour effectuer la projection Affine, nous allons utiliser le transformer \u00ab AffineWarper \u00bb. Celui-ci n\u00e9cessite la cr\u00e9ation de vecteurs liant les points des coordonn\u00e9es locales aux coordonn\u00e9es globales correspondantes. Pour ce faire, cr\u00e9ons les points locaux \u00e0 l\u2019aide d\u2019un \u00abVertexCreator \u00bb : Les coordonn\u00e9es seront reprises du fichier CSV. Une fois effectu\u00e9, nous pouvons inspecter ce r\u00e9sultat interm\u00e9diaire. Ce qui donne l\u2019affichage suivant : Cr\u00e9ons maintenant le vecteur local-global, pour ce faire, nous allons ajouter un deuxi\u00e8me \u00ab VertexCreator \u00bb \u00e0 la suite du premier, mais en sp\u00e9cifiant les coordonn\u00e9es globales (MN03). Cela va ajouter un point au point initialement cr\u00e9\u00e9, et donc cr\u00e9er un vecteur. Inspecter le r\u00e9sultat : Pla\u00e7ons maintenant le AffineWarper comme suit : Puis ajouter un CoordinateSystemSetter pour d\u00e9finir le syst\u00e8me de coordonn\u00e9es en MN03 (EPSG:21781) Inspecter le r\u00e9sultat : Nous constatons que nous sommes bien en MN03. Il nous faut maintenant projeter les donn\u00e9es de MN03 en MN95, pour ce faire nous allons utiliser le transformer \u00abReframeReprojector\u00bb. Ce transformer a \u00e9t\u00e9 d\u00e9velopp\u00e9 par Swisstopo et permet une projection entre ces deux syst\u00e8mes nationaux en utilisant l\u2019algorithme Fineltra. Avec pour le transformer \u00ab ReframeReprojector \u00bb les param\u00e8tres suivants : En inspectant les donn\u00e9es, nous obtenons : Toujours dans la fen\u00eatre d\u2019inspection, vous pouvez ajouter un fond de carte : Puis : Finalement dans la barre d\u2019outils : Et on s\u2019aper\u00e7oit avec le fond de plan, que la maison est correctement plac\u00e9e. Conclusion FME permet de reprojeter des donn\u00e9es g\u00e9ographiques entre plusieurs syst\u00e8mes de coordonn\u00e9es. Ceci est particuli\u00e8rement important lorsque que l\u2019on souhaite mettre en contexte des donn\u00e9es BIM. Par exemple, un mod\u00e8le BIM devra \u00eatre g\u00e9or\u00e9f\u00e9renc\u00e9 correctement si l\u2019on souhaite le placer dans l\u2019environnement existant (avec b\u00e2ti existant, morphologie du terrain). Exemple de projet BIM r\u00e9f\u00e9renc\u00e9 : https://arcg.is/0j9vTP","title":"Changement de syst\u00e8me de coordonn\u00e9es"},{"location":"Changement_de_syst\u00e8me_de_coordonn\u00e9es.html#changement-de-systeme-de-coordonnees","text":"","title":"Changement de syst\u00e8me de coordonn\u00e9es"},{"location":"Changement_de_syst\u00e8me_de_coordonn\u00e9es.html#objectif","text":"Depuis un plan d\u2019architecte non g\u00e9or\u00e9f\u00e9renc\u00e9, nous allons le g\u00e9or\u00e9f\u00e9rencer en MN03 \u00e0 l\u2019aide d\u2019une projection Affine, puis le convertir en MN95. Nous disposons en effet d\u2019un fichier de points de base (syst\u00e8me local vers MN03). Pour finalement aboutir en MN95, il nous faudra effectuer une op\u00e9ration suppl\u00e9mentaire.","title":"Objectif"},{"location":"Changement_de_syst\u00e8me_de_coordonn\u00e9es.html#ressource","text":"Workspace : exo\\ ex_changement_syst\u00e8me_coordonn\u00e9es\\ ex_changement_syst\u00e8me_coordonn\u00e9e_start.fmw, nous d\u00e9butons l\u2019exercice avec un workspace vide Donn\u00e9es : exo\\ ex_changement_syst\u00e8me_coordonn\u00e9es\\ressources\\plan.dwg \u2013 Fichier DWG, plan d\u2019une maison exo\\ ex_changement_syst\u00e8me_coordonn\u00e9es\\ ressources\\callage.csv - fichier CSV contenant les coordonn\u00e9es locales et les coordonn\u00e9es MN03","title":"Ressource"},{"location":"Changement_de_syst\u00e8me_de_coordonn\u00e9es.html#exercice","text":"Ajouter une reader \u00abAutodesk AutoCAD DWG/DXF \u00bb et s\u00e9lectionner le fichier DWG Cliquer sur \u00ab OK \u00bb. Dans la seconde fen\u00eatre, on importe uniquement le calque O du DWG. Ajouter maintenant le fichier de calage CSV. Pour effectuer la projection Affine, nous allons utiliser le transformer \u00ab AffineWarper \u00bb. Celui-ci n\u00e9cessite la cr\u00e9ation de vecteurs liant les points des coordonn\u00e9es locales aux coordonn\u00e9es globales correspondantes. Pour ce faire, cr\u00e9ons les points locaux \u00e0 l\u2019aide d\u2019un \u00abVertexCreator \u00bb : Les coordonn\u00e9es seront reprises du fichier CSV. Une fois effectu\u00e9, nous pouvons inspecter ce r\u00e9sultat interm\u00e9diaire. Ce qui donne l\u2019affichage suivant : Cr\u00e9ons maintenant le vecteur local-global, pour ce faire, nous allons ajouter un deuxi\u00e8me \u00ab VertexCreator \u00bb \u00e0 la suite du premier, mais en sp\u00e9cifiant les coordonn\u00e9es globales (MN03). Cela va ajouter un point au point initialement cr\u00e9\u00e9, et donc cr\u00e9er un vecteur. Inspecter le r\u00e9sultat : Pla\u00e7ons maintenant le AffineWarper comme suit : Puis ajouter un CoordinateSystemSetter pour d\u00e9finir le syst\u00e8me de coordonn\u00e9es en MN03 (EPSG:21781) Inspecter le r\u00e9sultat : Nous constatons que nous sommes bien en MN03. Il nous faut maintenant projeter les donn\u00e9es de MN03 en MN95, pour ce faire nous allons utiliser le transformer \u00abReframeReprojector\u00bb. Ce transformer a \u00e9t\u00e9 d\u00e9velopp\u00e9 par Swisstopo et permet une projection entre ces deux syst\u00e8mes nationaux en utilisant l\u2019algorithme Fineltra. Avec pour le transformer \u00ab ReframeReprojector \u00bb les param\u00e8tres suivants : En inspectant les donn\u00e9es, nous obtenons : Toujours dans la fen\u00eatre d\u2019inspection, vous pouvez ajouter un fond de carte : Puis : Finalement dans la barre d\u2019outils : Et on s\u2019aper\u00e7oit avec le fond de plan, que la maison est correctement plac\u00e9e.","title":"Exercice"},{"location":"Changement_de_syst\u00e8me_de_coordonn\u00e9es.html#conclusion","text":"FME permet de reprojeter des donn\u00e9es g\u00e9ographiques entre plusieurs syst\u00e8mes de coordonn\u00e9es. Ceci est particuli\u00e8rement important lorsque que l\u2019on souhaite mettre en contexte des donn\u00e9es BIM. Par exemple, un mod\u00e8le BIM devra \u00eatre g\u00e9or\u00e9f\u00e9renc\u00e9 correctement si l\u2019on souhaite le placer dans l\u2019environnement existant (avec b\u00e2ti existant, morphologie du terrain). Exemple de projet BIM r\u00e9f\u00e9renc\u00e9 : https://arcg.is/0j9vTP","title":"Conclusion"},{"location":"Contr\u00f4le_des_donn\u00e9es.html","text":"Contr\u00f4le des donn\u00e9es Objectif Dans cet exercice, nous allons contr\u00f4ler des donn\u00e9es REVIT. Nous devons valider que les portes poss\u00e8dent les caract\u00e9ristiques suivantes : Si portes ext\u00e9rieures, leurs types doivent \u00eatre : 0915 x 2134mm M_Curtain Wall Sgl Glass Si portes int\u00e9rieures, leurs types doivent \u00eatre : ?? \u00e0 voir 0915 x 2134mm Ressource Workspace : exo\\ex_checker_donn\u00e9es\\ checker_donn\u00e9es_start.fmw, nous d\u00e9butons avec un workspace vide. Donn\u00e9es : exo\\ex_checker_donn\u00e9es\\ ressources\\rac_advanced_sample_project.rvt \u2013 projet Autodesk REVIT Exercice Ajouter un reader Revit . Ajouter un inspector apr\u00e8s le reader (le reader peut mettre un peu de temps \u00e0 appara\u00eetre, le fichier REVIT \u00e9tant gros). Dans la fen\u00eatre d\u2019inspection, passer en mode 3D. Puis naviguer dans la maquette 3D \u00e0 l\u2019aide de la souris. De retour dans le workspace, supprimer tous les \u00e9l\u00e9ments du canevas, ins\u00e9rer \u00e0 nouveau le reader en changeant un param\u00e8tre. Ajouter \u00e0 nouveau le reader REVIT. Dans la seconde fen\u00eatre qui appara\u00eet (apr\u00e8s un peu de temps), s\u00e9lectionner \u00ab architecture.Doors \u00bb. Cela limite la lecture du fichier Revit en ne lisant que les portes. Ajouter un inspector, puis ex\u00e9cuter. Lors de l\u2019inspection, on constate que chaque porte poss\u00e8de un attribut Function et FamilityType. Nous allons nous baser sur ces attributs pour effectuer nos tests. Placer un AttributeFilter comme suit : Puis ajouter deux inspectors sur les deux nouveaux ports Interior et Exterior Ex\u00e9cuter le tout, on constate que cela va s\u00e9parer le flux d\u2019informations (les portes ext\u00e9rieures par rapport aux portes int\u00e9rieures). Pla\u00e7ons un Tester sur le port \u00ab Interior \u00bb, puis param\u00e9trons-le comme suit : S\u00e9lectionner l\u2019attribut \u00ab FamilyType \u00bb dans la seconde fen\u00eatre. De retour dans la fen\u00eatre principale du Tester, nous allons entrer la valeur \u00ab 0915 x 2134mm \u00bb dans la colonne \u00ab Right Value \u00bb. Ainsi en ex\u00e9cutant le workspace \u00e0 nouveau, les portes int\u00e9rieures vont \u00eatre filtr\u00e9es entre celles qui correspondent au type \u00ab 0915 x 2134mm \u00bb et les autres (donc celles qui \u00e9chouent au checker). Nous allons faire de m\u00eame pour les portes int\u00e9rieures, mais avec une condition multiple : Ainsi nous obtenons le r\u00e9sultat suivant : Pour terminer ce workspace, nous allons rapidement cr\u00e9er un petit reporting html. Pour ce faire, nous garderons que les portes dont le type est mauvais et allons nettoyer un peu leurs attributs pour ne garder que ceux qui seront utiles pour le reporting. Nous gardons uniquement les attributs: FamilyType, Function,BuildingLevel, ObjectId. Ainsi le workspace devient : Puis nous pla\u00e7ons un \u00ab HTMLReportGenerator \u00bb. Et finalement un writer html. Ainsi le workspace devient : Nous pouvons inspecter le r\u00e9sultat en cliquant droite sur le writer. Ce qui ouvre le r\u00e9pertoire dans lequel le fichier HTML est stock\u00e9. Nous pouvons ainsi ouvrir ce fichier dans un navigateur internet : Conclusion Quantifier la qualit\u00e9 des donn\u00e9es est un \u00e9l\u00e9ment crucial pour garantir le succ\u00e8s d\u2019un projet et s\u2019assurer de son utilisation. FME permet de d\u00e9velopper rapidement des checkers de donn\u00e9es, tant attributaires que g\u00e9om\u00e9triques permettant de d\u00e9terminer l\u2019ad\u00e9quation des donn\u00e9es par rapport \u00e0 un pr\u00e9requis (normes, mod\u00e8le de donn\u00e9es, r\u00e8gles m\u00e9tier). De plus, FME permet une publication en ligne des checkers pour une utilisation publique et (potentiellement) gratuite. Quelques exemples de checkers FME : Checker SIRE, Canton de Vaud : https://www.geopol.ch/#/fr/workspaces/checker-sire Checker Mutation, Canton de Gen\u00e8ve : https://www.geopol.ch/#/fr/workspaces/checker-mutation-geneve","title":"Contr\u00f4le des donn\u00e9es"},{"location":"Contr\u00f4le_des_donn\u00e9es.html#controle-des-donnees","text":"","title":"Contr\u00f4le des donn\u00e9es"},{"location":"Contr\u00f4le_des_donn\u00e9es.html#objectif","text":"Dans cet exercice, nous allons contr\u00f4ler des donn\u00e9es REVIT. Nous devons valider que les portes poss\u00e8dent les caract\u00e9ristiques suivantes : Si portes ext\u00e9rieures, leurs types doivent \u00eatre : 0915 x 2134mm M_Curtain Wall Sgl Glass Si portes int\u00e9rieures, leurs types doivent \u00eatre : ?? \u00e0 voir 0915 x 2134mm","title":"Objectif"},{"location":"Contr\u00f4le_des_donn\u00e9es.html#ressource","text":"Workspace : exo\\ex_checker_donn\u00e9es\\ checker_donn\u00e9es_start.fmw, nous d\u00e9butons avec un workspace vide. Donn\u00e9es : exo\\ex_checker_donn\u00e9es\\ ressources\\rac_advanced_sample_project.rvt \u2013 projet Autodesk REVIT","title":"Ressource"},{"location":"Contr\u00f4le_des_donn\u00e9es.html#exercice","text":"Ajouter un reader Revit . Ajouter un inspector apr\u00e8s le reader (le reader peut mettre un peu de temps \u00e0 appara\u00eetre, le fichier REVIT \u00e9tant gros). Dans la fen\u00eatre d\u2019inspection, passer en mode 3D. Puis naviguer dans la maquette 3D \u00e0 l\u2019aide de la souris. De retour dans le workspace, supprimer tous les \u00e9l\u00e9ments du canevas, ins\u00e9rer \u00e0 nouveau le reader en changeant un param\u00e8tre. Ajouter \u00e0 nouveau le reader REVIT. Dans la seconde fen\u00eatre qui appara\u00eet (apr\u00e8s un peu de temps), s\u00e9lectionner \u00ab architecture.Doors \u00bb. Cela limite la lecture du fichier Revit en ne lisant que les portes. Ajouter un inspector, puis ex\u00e9cuter. Lors de l\u2019inspection, on constate que chaque porte poss\u00e8de un attribut Function et FamilityType. Nous allons nous baser sur ces attributs pour effectuer nos tests. Placer un AttributeFilter comme suit : Puis ajouter deux inspectors sur les deux nouveaux ports Interior et Exterior Ex\u00e9cuter le tout, on constate que cela va s\u00e9parer le flux d\u2019informations (les portes ext\u00e9rieures par rapport aux portes int\u00e9rieures). Pla\u00e7ons un Tester sur le port \u00ab Interior \u00bb, puis param\u00e9trons-le comme suit : S\u00e9lectionner l\u2019attribut \u00ab FamilyType \u00bb dans la seconde fen\u00eatre. De retour dans la fen\u00eatre principale du Tester, nous allons entrer la valeur \u00ab 0915 x 2134mm \u00bb dans la colonne \u00ab Right Value \u00bb. Ainsi en ex\u00e9cutant le workspace \u00e0 nouveau, les portes int\u00e9rieures vont \u00eatre filtr\u00e9es entre celles qui correspondent au type \u00ab 0915 x 2134mm \u00bb et les autres (donc celles qui \u00e9chouent au checker). Nous allons faire de m\u00eame pour les portes int\u00e9rieures, mais avec une condition multiple : Ainsi nous obtenons le r\u00e9sultat suivant : Pour terminer ce workspace, nous allons rapidement cr\u00e9er un petit reporting html. Pour ce faire, nous garderons que les portes dont le type est mauvais et allons nettoyer un peu leurs attributs pour ne garder que ceux qui seront utiles pour le reporting. Nous gardons uniquement les attributs: FamilyType, Function,BuildingLevel, ObjectId. Ainsi le workspace devient : Puis nous pla\u00e7ons un \u00ab HTMLReportGenerator \u00bb. Et finalement un writer html. Ainsi le workspace devient : Nous pouvons inspecter le r\u00e9sultat en cliquant droite sur le writer. Ce qui ouvre le r\u00e9pertoire dans lequel le fichier HTML est stock\u00e9. Nous pouvons ainsi ouvrir ce fichier dans un navigateur internet :","title":"Exercice"},{"location":"Contr\u00f4le_des_donn\u00e9es.html#conclusion","text":"Quantifier la qualit\u00e9 des donn\u00e9es est un \u00e9l\u00e9ment crucial pour garantir le succ\u00e8s d\u2019un projet et s\u2019assurer de son utilisation. FME permet de d\u00e9velopper rapidement des checkers de donn\u00e9es, tant attributaires que g\u00e9om\u00e9triques permettant de d\u00e9terminer l\u2019ad\u00e9quation des donn\u00e9es par rapport \u00e0 un pr\u00e9requis (normes, mod\u00e8le de donn\u00e9es, r\u00e8gles m\u00e9tier). De plus, FME permet une publication en ligne des checkers pour une utilisation publique et (potentiellement) gratuite. Quelques exemples de checkers FME : Checker SIRE, Canton de Vaud : https://www.geopol.ch/#/fr/workspaces/checker-sire Checker Mutation, Canton de Gen\u00e8ve : https://www.geopol.ch/#/fr/workspaces/checker-mutation-geneve","title":"Conclusion"},{"location":"Cr\u00e9ation_d\u2019un_DWG.html","text":"Cr\u00e9ation d\u2019un DWG Objectif Depuis un mod\u00e8le num\u00e9rique de terrain (MNT), cr\u00e9er des courbes de niveau, puis les enregistrer dans un fichier DWG. Ressource Workspace : exo\\ ex_creation_dwg \\ ex_creation_dwg_start.fmw, nous d\u00e9butons l\u2019exercice avec un workpace vide. Donn\u00e9es : exo\\ ex_creation_dwg \\ressources\\ MN_Terrain_GRID.asc \u2013 mod\u00e8le num\u00e9rique de terrain. Exercice D\u00e9marrer FME Workbench Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. Ajout du MNT (reader) Cliquer sur l\u2019onglet \u00ab Main \u00bb. Puis sur : D\u00e9finir ? le Reader comme suit : Cr\u00e9ation des courbes de niveaux Ajouter le transformer \u00ab SurfaceModeller \u00bb avec le param\u00e8tre : Visualiser les courbes de niveau A la sortie du port \u00ab countours \u00bb cliquer droite puis : Puis en ex\u00e9cutant le workspace , l\u2019inspector s\u2019ouvre et vous pouvez visualiser les donn\u00e9es. Vous pouvez constater qu\u2019un attribut \u00ab _elevation \u00bb a \u00e9t\u00e9 cr\u00e9\u00e9. Cr\u00e9er le label des altitudes Ajouter un \u00ab Labeller\u00bb comme suit : Ce transformer cr\u00e9e des labels le long des courbes de niveau. Cr\u00e9ation du fichier de sortie AutoCAD (Writer). Puis avec les param\u00e8tres suivants : Nommer la couche \u00abcourbe_de_niveau \u00bb. Relier les tranformers dans le writer. Ex\u00e9cuter le script En cliquant sur . Ouvrir le fichier DWG cr\u00e9\u00e9. T\u00e2ches avanc\u00e9es De fa\u00e7on autonome, essayer de : Changer la couleur des courbes de niveau Placer les labels dans un autre calque De ne pas transmettre de polyligne 3D dans le DWG (uniquement en 2D)","title":"Cr\u00e9ation d\u2019un DWG"},{"location":"Cr\u00e9ation_d\u2019un_DWG.html#creation-dun-dwg","text":"","title":"Cr\u00e9ation d\u2019un DWG"},{"location":"Cr\u00e9ation_d\u2019un_DWG.html#objectif","text":"Depuis un mod\u00e8le num\u00e9rique de terrain (MNT), cr\u00e9er des courbes de niveau, puis les enregistrer dans un fichier DWG.","title":"Objectif"},{"location":"Cr\u00e9ation_d\u2019un_DWG.html#ressource","text":"Workspace : exo\\ ex_creation_dwg \\ ex_creation_dwg_start.fmw, nous d\u00e9butons l\u2019exercice avec un workpace vide. Donn\u00e9es : exo\\ ex_creation_dwg \\ressources\\ MN_Terrain_GRID.asc \u2013 mod\u00e8le num\u00e9rique de terrain.","title":"Ressource"},{"location":"Cr\u00e9ation_d\u2019un_DWG.html#exercice","text":"D\u00e9marrer FME Workbench Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. Ajout du MNT (reader) Cliquer sur l\u2019onglet \u00ab Main \u00bb. Puis sur : D\u00e9finir ? le Reader comme suit : Cr\u00e9ation des courbes de niveaux Ajouter le transformer \u00ab SurfaceModeller \u00bb avec le param\u00e8tre : Visualiser les courbes de niveau A la sortie du port \u00ab countours \u00bb cliquer droite puis : Puis en ex\u00e9cutant le workspace , l\u2019inspector s\u2019ouvre et vous pouvez visualiser les donn\u00e9es. Vous pouvez constater qu\u2019un attribut \u00ab _elevation \u00bb a \u00e9t\u00e9 cr\u00e9\u00e9. Cr\u00e9er le label des altitudes Ajouter un \u00ab Labeller\u00bb comme suit : Ce transformer cr\u00e9e des labels le long des courbes de niveau. Cr\u00e9ation du fichier de sortie AutoCAD (Writer). Puis avec les param\u00e8tres suivants : Nommer la couche \u00abcourbe_de_niveau \u00bb. Relier les tranformers dans le writer. Ex\u00e9cuter le script En cliquant sur . Ouvrir le fichier DWG cr\u00e9\u00e9.","title":"Exercice"},{"location":"Cr\u00e9ation_d\u2019un_DWG.html#taches-avancees","text":"De fa\u00e7on autonome, essayer de : Changer la couleur des courbes de niveau Placer les labels dans un autre calque De ne pas transmettre de polyligne 3D dans le DWG (uniquement en 2D)","title":"T\u00e2ches avanc\u00e9es"},{"location":"Ecriture_d\u2019un_fichier_IFC.html","text":"Ecriture d\u2019un fichier IFC Objectif Ecrire un fichier IFC. Ressource Worspace : exo\\ex_\u00e9criture_ifc\\ ex_\u00e9criture_start.fmw Donn\u00e9es : ressources\\ex_\u00e9criture_ifc\\CAD_PARCELLE_MENSU.ffs \u2013 extrait de la mensuration officielle ressources\\ex_\u00e9criture_ifc\\MN_Terrain_GRID.asc \u2013 mod\u00e8le num\u00e9rique de terrain Exercice Ouvrir le workspace start.fwm en double cliquant dessus. Ce workspace contient d\u00e9j\u00e0 les readers (la parcelle et le MNT), le writer (IFC). D\u00e9coupage du MNT avec la limite de la parcelle. \u00c0 la sortie du Surface Modeler, ajouter un \u00ab clipper \u00bb comme suit : Ainsi, la triangulation va \u00eatre coup\u00e9e (clipp\u00e9e) avec la parcelle. NB : ne pas h\u00e9siter \u00e0 visualiser les donn\u00e9es avant et apr\u00e8s le Clipper. La triangulation est compos\u00e9e de polygones 3D. Transformation de la g\u00e9om\u00e9trie Dans le fichier IFC la g\u00e9om\u00e9trie doit \u00eatre un Solid (brep_solid). Pour ce faire, nous allons utiliser un \u00ab Extruder \u00bb pour donner une \u00e9paisseur au polygone. Effet du Extruder Avec les param\u00e8tres suivants : Puis pour avoir un brep_solid, (solide fermer), il faut utiliser un \u00ab GeometryCoercer \u00bb comme suit : Pour terminer la modification de la g\u00e9om\u00e9trie, nous allons agr\u00e9ger tous les triangles dans une g\u00e9om\u00e9trie multiple \u00e0 l\u2019aide d\u2019un \u00abAggregator \u00bb. Le workspace devient ainsi : Ex\u00e9cuter le script en cliquant sur . Puis visualiser le r\u00e9sultat dans un viewer IFC.","title":"Ecriture d\u2019un fichier IFC"},{"location":"Ecriture_d\u2019un_fichier_IFC.html#ecriture-dun-fichier-ifc","text":"","title":"Ecriture d\u2019un fichier IFC"},{"location":"Ecriture_d\u2019un_fichier_IFC.html#objectif","text":"Ecrire un fichier IFC.","title":"Objectif"},{"location":"Ecriture_d\u2019un_fichier_IFC.html#ressource","text":"Worspace : exo\\ex_\u00e9criture_ifc\\ ex_\u00e9criture_start.fmw Donn\u00e9es : ressources\\ex_\u00e9criture_ifc\\CAD_PARCELLE_MENSU.ffs \u2013 extrait de la mensuration officielle ressources\\ex_\u00e9criture_ifc\\MN_Terrain_GRID.asc \u2013 mod\u00e8le num\u00e9rique de terrain","title":"Ressource"},{"location":"Ecriture_d\u2019un_fichier_IFC.html#exercice","text":"Ouvrir le workspace start.fwm en double cliquant dessus. Ce workspace contient d\u00e9j\u00e0 les readers (la parcelle et le MNT), le writer (IFC). D\u00e9coupage du MNT avec la limite de la parcelle. \u00c0 la sortie du Surface Modeler, ajouter un \u00ab clipper \u00bb comme suit : Ainsi, la triangulation va \u00eatre coup\u00e9e (clipp\u00e9e) avec la parcelle. NB : ne pas h\u00e9siter \u00e0 visualiser les donn\u00e9es avant et apr\u00e8s le Clipper. La triangulation est compos\u00e9e de polygones 3D. Transformation de la g\u00e9om\u00e9trie Dans le fichier IFC la g\u00e9om\u00e9trie doit \u00eatre un Solid (brep_solid). Pour ce faire, nous allons utiliser un \u00ab Extruder \u00bb pour donner une \u00e9paisseur au polygone. Effet du Extruder Avec les param\u00e8tres suivants : Puis pour avoir un brep_solid, (solide fermer), il faut utiliser un \u00ab GeometryCoercer \u00bb comme suit : Pour terminer la modification de la g\u00e9om\u00e9trie, nous allons agr\u00e9ger tous les triangles dans une g\u00e9om\u00e9trie multiple \u00e0 l\u2019aide d\u2019un \u00abAggregator \u00bb. Le workspace devient ainsi : Ex\u00e9cuter le script en cliquant sur . Puis visualiser le r\u00e9sultat dans un viewer IFC.","title":"Exercice"},{"location":"Export_en_PDF_3D.html","text":"Export en PDF 3D A new property development is being planned within the city. The planning department has asked for a 3D visualization of the city elevation model, taking this new development into account. The task is to read the current elevation model, apply changes provided by the property developer, and create a three-dimensional output in Adobe PDF format. Your manager has handed you this task, thinking that it will be very difficult. He doesn't know FME as well as you do! 1) Inspect Data The first task is to read the existing contour files into a workspace. Examine the folder and you see that the contours are held in a set of Shapefile tiles: Feel free to use the FME Data Inspector to inspect these source files. 2) Add Reader Start FME Workbench and begin with a blank workspace. Select Readers > Add Reader to read the contour files: __Reader Format : __Esri Shapefile __Reader Dataset : __Contours\\*.shp When it comes to selecting the data, select all of the Shape files in that folder. But don't click OK yet. First of all, select the workflow option for a \"Single Merged Feature Type\": What this will do is add a single feature type with a Merge Filter automatically set: Sister Intuitive says... *This is a HUGE shortcut here. It has added a single feature type and set a merge filter to read ALL data. In this scenario it makes the workspace way tidier and easy to use than if each file had its own feature type. Of course, this only works where all of the source files have the same attribute schema (like here) and we are sure that we want to read all of the source layers (we do). * 3) Add Reader Now let's add the developer's data. Again select Readers > Add Reader from the menubar. __Reader Format : __Esri Shapefile __Reader Dataset : __Parcels\\NewDevelopment.zip Because the data has been sent in a zip file, we can still read it, but when we browse for the data we need to change the filter to look for zip files: The other thing we should do is set the workflow option back to Individual Feature Types, in case there is data other than contours in there. Now click OK. When prompted for which feature types you want from the zip file, select NewContours only. 4) Add ChangeDetector The ChangeDetector transformer will tell us which contours are new in this dataset, which are replacements, and which are the same as before. So, place a ChangeDetector transformer and connect it in. The original contours should be connected to the Original port(!) and the revised contours to the Revised port. You can check the parameters, but none should need changing. We can check in 2D because the contours are 2D with an elevation attribute. 5) Add Inspectors Add Inspector transformers to the output ports of the ChangeDetector and run the workspace to see what we have You should find 3,967 contours were unchanged; i.e. they were in the original data and the new version. Seven (7) contours have been added; i.e. they appear in the new data but not the original version. Three (3) contours have been deleted; i.e. they appear in the original data but not in the new data. We'll want to generate the new elevation model from the Unchanged and the Added features; deleted ones we can drop. But first, there is a more pressing problem... 6) Import Feature Type Definition Did you notice that the Added contours do not have an elevation value set? This is a problem because we can't generate a proper 3D model without elevation! It must be that the labels in the source data are meant to denote the contour elevation (you can use the Data Inspector to open the data and confirm this is so). Therefore we need to add that data to the workspace. We already have a reader so you just need to add the feature type. So choose Readers > Import Feature Type and select the NewDevelopment reader to import to. This time, when the list appears, be sure to select the Labels feature type: Click OK and now you should get a new feature type. Because we're reading from a zip file we don't even need to change the dataset parameter; FME will pick up the data anyway. 7) Add NeighborFinder A NeighborFinder transformer will transfer the label values onto the nearest contour. So, add a NeighborFinder transformer and connect it in. The ChangeDetector:Added features are the Base and the labels are the Candidate: Check the parameters and set the Maximum Distance. This defines the maximum distance from the contour to the label. Because the labels appear to be almost on top of the contour you can set this to a low number, for example 5. Now add some more Inspectors and rerun the workspace to ensure all seven contour features have an elevation value now. 8) Add 3DForcer Having an elevation attribute is fine, but to actually create a 3D model we must convert this into a true Z value. This is done with a 3DForcer transformer, so place one of these. The ChangeDetector:Unchanged and NeighborFinder:Matched are the features we need to process. Now check the parameters. For Elevation, click the drop-down arrow and choose Attribute Value > Elevation. Run the workspace again and you will see the contours now have a Z value and the Data Inspector reports they are true 3D features: 9) Add SurfaceModeller Now we have 3D contours we can create a surface model. Add a SurfaceModeller transformer connected to the 3DForcer output. The input port to connect is Points/Lines. Check the parameters. Set a Surface Tolerance of 1, and turn off the checkbox for Output Contours (it will run faster without). If you now connect an Inspector to the SurfaceModeller:TINSurface output port and run the 10) Exaggerate Scale (Optional) If Vancouver seems a little flat, then why not exaggerate the Z scale a little to compensate! Add an ExpressionEvaluator before the 3DForcer and use it to multiply the value of Elevation by a factor of 4. You'll want to use to option to apply the result to an existing attribute: Now Vancouver will have a more interesting profile: 11) Add Writer Now let's write this data. Select Writers > Add Writer and add a writer with the following specifications: __Writer Format : __Adobe 3D PDF __Writer Dataset : __SurfaceModel.pdf Make sure you choose the 3D (not 2D) version of the PDF writer. You can choose to add a new feature type for the output in whatever way you want. The best method will be to select either Manual or Automatic from the Add Writer dialog. Give the feature type a name such as Surface and connect it up to the SurfaceModeller:TINSurface port. In the writer parameters (Navigator window) locate the background color parameter and change it to black (0,0,0). Locate the Page Size parameter and change it to 600 400: Now run the translation. Locate the output data - it will take a minute or so to write - and open it in Adobe Reader. 12) Add Reader Add a reader to read the raster data. The details are: __Reader Format : __JPEG (Joint Photographic Experts Group) __Reader Dataset : __OverlayImage.jpg 13) Add AppearanceSetter Now add an AppearanceSetter transformer. This is used to apply the raster as an \"appearance\" or texture onto the DEM surface. The Raster data is the Appearance and the TINSurface port is the Geometry: Check the parameters. Change \"Set Appearance On\" to be Front Side. Expand the section Texture Coordinate Generation Parameters and set \"Texture Mapping Type\" to be From Top View: Run the workspace (be sure to close the PDF first if it is open in Adobe Reader). This time the PDF output should have a raster image draped on it. 14) Overlay Building Footprint In the previous output, did you spot the lump in the surface where the new property is going to be developed? The one last thing we could do is add the building outline so that we can see where it will go. Because we don't have the building data in the workspace the first task is to use Import Feature Types to add that back to the NewDevelopment Shapefile reader. Connect that up to the SurfaceModeller:DrapeFeatures input port (i.e. we want to drape the building onto the 3D surface that is being generated). Add an Extruder transformer, connected to the SurfaceModeller:DrapedFeatures output port. Set the Extruder parameters to extrude the data by a height of 25. This will create a 25m high building. Now add a new writer feature type to create a new output layer for the buildings. Connect it to the Extruder transformer and you will have a workspace that looks like this: Run the workspace and the output will now look like this: Wow! Even allowing for the 4x scale increase on the DEM, this building is very prominent on the Vancouver skyline!","title":"Export en PDF 3D"},{"location":"Export_en_PDF_3D.html#export-en-pdf-3d","text":"A new property development is being planned within the city. The planning department has asked for a 3D visualization of the city elevation model, taking this new development into account. The task is to read the current elevation model, apply changes provided by the property developer, and create a three-dimensional output in Adobe PDF format. Your manager has handed you this task, thinking that it will be very difficult. He doesn't know FME as well as you do! 1) Inspect Data The first task is to read the existing contour files into a workspace. Examine the folder and you see that the contours are held in a set of Shapefile tiles: Feel free to use the FME Data Inspector to inspect these source files. 2) Add Reader Start FME Workbench and begin with a blank workspace. Select Readers > Add Reader to read the contour files: __Reader Format : __Esri Shapefile __Reader Dataset : __Contours\\*.shp When it comes to selecting the data, select all of the Shape files in that folder. But don't click OK yet. First of all, select the workflow option for a \"Single Merged Feature Type\": What this will do is add a single feature type with a Merge Filter automatically set: Sister Intuitive says... *This is a HUGE shortcut here. It has added a single feature type and set a merge filter to read ALL data. In this scenario it makes the workspace way tidier and easy to use than if each file had its own feature type. Of course, this only works where all of the source files have the same attribute schema (like here) and we are sure that we want to read all of the source layers (we do). * 3) Add Reader Now let's add the developer's data. Again select Readers > Add Reader from the menubar. __Reader Format : __Esri Shapefile __Reader Dataset : __Parcels\\NewDevelopment.zip Because the data has been sent in a zip file, we can still read it, but when we browse for the data we need to change the filter to look for zip files: The other thing we should do is set the workflow option back to Individual Feature Types, in case there is data other than contours in there. Now click OK. When prompted for which feature types you want from the zip file, select NewContours only. 4) Add ChangeDetector The ChangeDetector transformer will tell us which contours are new in this dataset, which are replacements, and which are the same as before. So, place a ChangeDetector transformer and connect it in. The original contours should be connected to the Original port(!) and the revised contours to the Revised port. You can check the parameters, but none should need changing. We can check in 2D because the contours are 2D with an elevation attribute. 5) Add Inspectors Add Inspector transformers to the output ports of the ChangeDetector and run the workspace to see what we have You should find 3,967 contours were unchanged; i.e. they were in the original data and the new version. Seven (7) contours have been added; i.e. they appear in the new data but not the original version. Three (3) contours have been deleted; i.e. they appear in the original data but not in the new data. We'll want to generate the new elevation model from the Unchanged and the Added features; deleted ones we can drop. But first, there is a more pressing problem... 6) Import Feature Type Definition Did you notice that the Added contours do not have an elevation value set? This is a problem because we can't generate a proper 3D model without elevation! It must be that the labels in the source data are meant to denote the contour elevation (you can use the Data Inspector to open the data and confirm this is so). Therefore we need to add that data to the workspace. We already have a reader so you just need to add the feature type. So choose Readers > Import Feature Type and select the NewDevelopment reader to import to. This time, when the list appears, be sure to select the Labels feature type: Click OK and now you should get a new feature type. Because we're reading from a zip file we don't even need to change the dataset parameter; FME will pick up the data anyway. 7) Add NeighborFinder A NeighborFinder transformer will transfer the label values onto the nearest contour. So, add a NeighborFinder transformer and connect it in. The ChangeDetector:Added features are the Base and the labels are the Candidate: Check the parameters and set the Maximum Distance. This defines the maximum distance from the contour to the label. Because the labels appear to be almost on top of the contour you can set this to a low number, for example 5. Now add some more Inspectors and rerun the workspace to ensure all seven contour features have an elevation value now. 8) Add 3DForcer Having an elevation attribute is fine, but to actually create a 3D model we must convert this into a true Z value. This is done with a 3DForcer transformer, so place one of these. The ChangeDetector:Unchanged and NeighborFinder:Matched are the features we need to process. Now check the parameters. For Elevation, click the drop-down arrow and choose Attribute Value > Elevation. Run the workspace again and you will see the contours now have a Z value and the Data Inspector reports they are true 3D features: 9) Add SurfaceModeller Now we have 3D contours we can create a surface model. Add a SurfaceModeller transformer connected to the 3DForcer output. The input port to connect is Points/Lines. Check the parameters. Set a Surface Tolerance of 1, and turn off the checkbox for Output Contours (it will run faster without). If you now connect an Inspector to the SurfaceModeller:TINSurface output port and run the 10) Exaggerate Scale (Optional) If Vancouver seems a little flat, then why not exaggerate the Z scale a little to compensate! Add an ExpressionEvaluator before the 3DForcer and use it to multiply the value of Elevation by a factor of 4. You'll want to use to option to apply the result to an existing attribute: Now Vancouver will have a more interesting profile: 11) Add Writer Now let's write this data. Select Writers > Add Writer and add a writer with the following specifications: __Writer Format : __Adobe 3D PDF __Writer Dataset : __SurfaceModel.pdf Make sure you choose the 3D (not 2D) version of the PDF writer. You can choose to add a new feature type for the output in whatever way you want. The best method will be to select either Manual or Automatic from the Add Writer dialog. Give the feature type a name such as Surface and connect it up to the SurfaceModeller:TINSurface port. In the writer parameters (Navigator window) locate the background color parameter and change it to black (0,0,0). Locate the Page Size parameter and change it to 600 400: Now run the translation. Locate the output data - it will take a minute or so to write - and open it in Adobe Reader. 12) Add Reader Add a reader to read the raster data. The details are: __Reader Format : __JPEG (Joint Photographic Experts Group) __Reader Dataset : __OverlayImage.jpg 13) Add AppearanceSetter Now add an AppearanceSetter transformer. This is used to apply the raster as an \"appearance\" or texture onto the DEM surface. The Raster data is the Appearance and the TINSurface port is the Geometry: Check the parameters. Change \"Set Appearance On\" to be Front Side. Expand the section Texture Coordinate Generation Parameters and set \"Texture Mapping Type\" to be From Top View: Run the workspace (be sure to close the PDF first if it is open in Adobe Reader). This time the PDF output should have a raster image draped on it. 14) Overlay Building Footprint In the previous output, did you spot the lump in the surface where the new property is going to be developed? The one last thing we could do is add the building outline so that we can see where it will go. Because we don't have the building data in the workspace the first task is to use Import Feature Types to add that back to the NewDevelopment Shapefile reader. Connect that up to the SurfaceModeller:DrapeFeatures input port (i.e. we want to drape the building onto the 3D surface that is being generated). Add an Extruder transformer, connected to the SurfaceModeller:DrapedFeatures output port. Set the Extruder parameters to extrude the data by a height of 25. This will create a 25m high building. Now add a new writer feature type to create a new output layer for the buildings. Connect it to the Extruder transformer and you will have a workspace that looks like this: Run the workspace and the output will now look like this: Wow! Even allowing for the 4x scale increase on the DEM, this building is very prominent on the Vancouver skyline!","title":"Export en PDF 3D"},{"location":"Extraction_de_donn\u00e9es_depuis_un_DWG.html","text":"Extraction de donn\u00e9es depuis un DWG Objectif R\u00e9cup\u00e9rer des g\u00e9om\u00e9tries d\u2019un fichier DWG et cr\u00e9er un PDF. Ressource Worskpace : exo\\ ex_extrcation_dwg\\ ex_extrcation_dwg_start.fmw, nous d\u00e9butons avec un workspace vide. Donn\u00e9es : exo\\ ex_extrcation_dwg\\ ressources\\Roads.dwg \u2013 fichier dwg contenant le trac\u00e9 de routes dans diff\u00e9rents calques. Exercice D\u00e9marrer FME Workbench. Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. S\u00e9lectionner Generate. Sur l\u2019interface principale, s\u00e9lectionner \u00ab generate \u00bb. Ajouter le fichier input (reader). Naviguer dans la liste des formats disponibles, s\u00e9lectionner le format Autodesk AutoCAD DWG/DXF. S\u00e9lectionner le fichier input AutoCAD Roads.dwg. D\u00e9finir le fichier output (writer) S\u00e9lectionner Adobe 3D PDF pour le format du Writer, puis entrer le chemin d\u2019acc\u00e8s du futur fichier \u00e0 cr\u00e9er. En validant, la fen\u00eatre suivante doit appara\u00eetre : Ex\u00e9cuter le script. En cliquant sur . Ouvrir le fichier PDF cr\u00e9\u00e9. Attention, il faut valider les param\u00e8tres de s\u00e9curit\u00e9. Changer la couleur du calque \u00ab Private \u00bb Ajouter un \u00ab FeatureColorSetter \u00bb et tapant ce mot cl\u00e9 dans la fen\u00eatre principale. Le nouveau transformer appara\u00eet sur le canevas. Changer la couleur en double cliquant dessus. En d\u00e9pla\u00e7ant le transformer, vous pouvez l\u2019inclure entre le reader et le writer du calque \u00ab Private \u00bb. Ceci peut aussi s\u2019effectuer en tirant les liaisons vers le transformer. Le workspace doit ressembler \u00e0 cela : Ex\u00e9cuter le script. En cliquant sur . Ouvrir le fichier PDF cr\u00e9\u00e9. Contr\u00f4ler que la couleur a bien \u00e9t\u00e9 chang\u00e9e. NB : les calques et les objets peuvent \u00eatre visualis\u00e9s sur le PDF en activant l\u2019option suivante :","title":"Exctraction d\u2019un DWG"},{"location":"Extraction_de_donn\u00e9es_depuis_un_DWG.html#extraction-de-donnees-depuis-un-dwg","text":"","title":"Extraction de donn\u00e9es depuis un DWG"},{"location":"Extraction_de_donn\u00e9es_depuis_un_DWG.html#objectif","text":"R\u00e9cup\u00e9rer des g\u00e9om\u00e9tries d\u2019un fichier DWG et cr\u00e9er un PDF.","title":"Objectif"},{"location":"Extraction_de_donn\u00e9es_depuis_un_DWG.html#ressource","text":"Worskpace : exo\\ ex_extrcation_dwg\\ ex_extrcation_dwg_start.fmw, nous d\u00e9butons avec un workspace vide. Donn\u00e9es : exo\\ ex_extrcation_dwg\\ ressources\\Roads.dwg \u2013 fichier dwg contenant le trac\u00e9 de routes dans diff\u00e9rents calques.","title":"Ressource"},{"location":"Extraction_de_donn\u00e9es_depuis_un_DWG.html#exercice","text":"D\u00e9marrer FME Workbench. Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. S\u00e9lectionner Generate. Sur l\u2019interface principale, s\u00e9lectionner \u00ab generate \u00bb. Ajouter le fichier input (reader). Naviguer dans la liste des formats disponibles, s\u00e9lectionner le format Autodesk AutoCAD DWG/DXF. S\u00e9lectionner le fichier input AutoCAD Roads.dwg. D\u00e9finir le fichier output (writer) S\u00e9lectionner Adobe 3D PDF pour le format du Writer, puis entrer le chemin d\u2019acc\u00e8s du futur fichier \u00e0 cr\u00e9er. En validant, la fen\u00eatre suivante doit appara\u00eetre : Ex\u00e9cuter le script. En cliquant sur . Ouvrir le fichier PDF cr\u00e9\u00e9. Attention, il faut valider les param\u00e8tres de s\u00e9curit\u00e9. Changer la couleur du calque \u00ab Private \u00bb Ajouter un \u00ab FeatureColorSetter \u00bb et tapant ce mot cl\u00e9 dans la fen\u00eatre principale. Le nouveau transformer appara\u00eet sur le canevas. Changer la couleur en double cliquant dessus. En d\u00e9pla\u00e7ant le transformer, vous pouvez l\u2019inclure entre le reader et le writer du calque \u00ab Private \u00bb. Ceci peut aussi s\u2019effectuer en tirant les liaisons vers le transformer. Le workspace doit ressembler \u00e0 cela : Ex\u00e9cuter le script. En cliquant sur . Ouvrir le fichier PDF cr\u00e9\u00e9. Contr\u00f4ler que la couleur a bien \u00e9t\u00e9 chang\u00e9e. NB : les calques et les objets peuvent \u00eatre visualis\u00e9s sur le PDF en activant l\u2019option suivante :","title":"Exercice"},{"location":"IFC_vers_SIG.html","text":"IFC vers SIG Ressource Worspace : exo\\ex_ifc2sig\\ ex_ifc2sig_start.fmw Donn\u00e9es : exo\\ ex_ifc2sig \\ressources test.ifc \u2013 extrait de la mensuration officielle Objectif Lire un fichier IFC, puis l\u2019enregistrer dans une ESRI File geodatabase Exercice D\u00e9marrer le Workbench Ouvrir ex_ifc2sig_start.fmw. Les reader et writer sont d\u00e9j\u00e0 introduits. R\u00e9cup\u00e9rer les murs des b\u00e2timents projet\u00e9s La premi\u00e8re partie du workspace est d\u00e9j\u00e0 faite, nous allons nous concentrer sur l\u2019assemblage Ajouter un FeatureMerger pour assembler les murs avec les b\u00e2timents projet\u00e9s. Avec les param\u00e8tres suivants : D\u00e9sagr\u00e9ger la g\u00e9om\u00e9trie La g\u00e9om\u00e9trie est de type multiple, nous allons la d\u00e9sagr\u00e9ger avec un \u00ab Deaggregator \u00bb. Changement de type de g\u00e9om\u00e9trie Pour l\u2019enregistrement dans la ESRI file GDB, il nous faut changer le type de g\u00e9om\u00e8trie. Pour se faire, nous utilisons un \u00ab GeometryCoercer \u00bb. D\u00e9finition du syst\u00e8me de coordonn\u00e9e Tr\u00e8s important en SIG. Nous le faisons \u00e0 l\u2019aide du \u00ab CoordinateSystemSetter \u00bb. Liaison avec le writer Ex\u00e9cuter le script En cliquant sur Visualiser le r\u00e9sultat sur ArcGIS Pro Dans une sc\u00e8ne","title":"IFC vers SIG"},{"location":"IFC_vers_SIG.html#ifc-vers-sig","text":"","title":"IFC vers SIG"},{"location":"IFC_vers_SIG.html#ressource","text":"Worspace : exo\\ex_ifc2sig\\ ex_ifc2sig_start.fmw Donn\u00e9es : exo\\ ex_ifc2sig \\ressources test.ifc \u2013 extrait de la mensuration officielle","title":"Ressource"},{"location":"IFC_vers_SIG.html#objectif","text":"Lire un fichier IFC, puis l\u2019enregistrer dans une ESRI File geodatabase","title":"Objectif"},{"location":"IFC_vers_SIG.html#exercice","text":"D\u00e9marrer le Workbench Ouvrir ex_ifc2sig_start.fmw. Les reader et writer sont d\u00e9j\u00e0 introduits. R\u00e9cup\u00e9rer les murs des b\u00e2timents projet\u00e9s La premi\u00e8re partie du workspace est d\u00e9j\u00e0 faite, nous allons nous concentrer sur l\u2019assemblage Ajouter un FeatureMerger pour assembler les murs avec les b\u00e2timents projet\u00e9s. Avec les param\u00e8tres suivants : D\u00e9sagr\u00e9ger la g\u00e9om\u00e9trie La g\u00e9om\u00e9trie est de type multiple, nous allons la d\u00e9sagr\u00e9ger avec un \u00ab Deaggregator \u00bb. Changement de type de g\u00e9om\u00e9trie Pour l\u2019enregistrement dans la ESRI file GDB, il nous faut changer le type de g\u00e9om\u00e8trie. Pour se faire, nous utilisons un \u00ab GeometryCoercer \u00bb. D\u00e9finition du syst\u00e8me de coordonn\u00e9e Tr\u00e8s important en SIG. Nous le faisons \u00e0 l\u2019aide du \u00ab CoordinateSystemSetter \u00bb. Liaison avec le writer Ex\u00e9cuter le script En cliquant sur Visualiser le r\u00e9sultat sur ArcGIS Pro Dans une sc\u00e8ne","title":"Exercice"},{"location":"Inspection_de_donn\u00e9es_avec_FME.html","text":"Inspection de donn\u00e9es avec FME Objectif Premi\u00e8re prise en main du logiciel FME, nous allons simplement inspecter (visualiser) une donn\u00e9e g\u00e9ographique, sans y appliquer de modifications. Ressource Workspace : exo\\ex_ visualisation\\ ex_visualisation_start.fmw , nous d\u00e9butons l\u2019exercice avec un workpace vide. Donn\u00e9es : exo\\ex_ visualisation\\ communes_VD_GE_NE_FR_VS_BE.shp \u2013 fichier Shapefile des cantons romands. Exercice D\u00e9marrer FME Workbench Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. Ajout du MNT(reader) Cliquer sur l\u2019onglet \u00ab Main \u00bb. Puis sur : Puis ajouter le type de format shape file comme suit : Le Reader (input) doit \u00eatre d\u00e9fini comme suit : Le fichier ESRI Shape file \"communes_VD_GE_NE_FR_VS_BE.shp\" est s\u00e9lectionn\u00e9. Puis valider en cliquant sur \u00ab ok \u00bb. Un nouvel \u00e9l\u00e9ment est apparu dans la fen\u00eatre principale. Il s\u2019agit du reader que l\u2019on vient d\u2019ajouter. Ajout d\u2019un inspector L\u2019inspector est l\u2019outil (le transformer) qui nous permettra de visualiser la donn\u00e9e lorsque la transformation sera ex\u00e9cut\u00e9e. Pour ce faire, cliquer droite dans la fen\u00eatre principale, puis s\u00e9lectionner \u00ab Insert inspector \u00bb. Cela place l\u2019Inspector dans la fen\u00eatre principale. L\u2019\u00e9tape suivante consiste \u00e0 lier le reader \u00e0 notre outil d\u2019inspection (inspector), pour ce faire nous allons cr\u00e9er une liaison entre ces deux \u00e9l\u00e9ments. Cela s\u2019effectue en cliquant sur le triangle blanc \u00e0 droite du reader (output port) puis sur le triangle rouge \u00e0 gauche de l\u2019inspector (input port). Cela cr\u00e9e graphiquement une liaison entre ces deux \u00e9l\u00e9ments. Ainsi les donn\u00e9es qui seront lues \u00e0 travers le reader vont directement \u00eatre transmises dans l\u2019inspector pour y \u00eatre visualis\u00e9es. Ex\u00e9cuter le traitement Puis en ex\u00e9cutant le workspace dans la barre des outils ou simplement en cliquant sur : La lecture s\u2019effectue, nous constatons que 1146 objets ont \u00e9t\u00e9 lus depuis ce fichier ESRI Shape File. Visualiser la donn\u00e9e Une fen\u00eatre en bas de l\u2019\u00e9cran s\u2019est ouverte. Il s\u2019agit de l\u2019inspector. Vous pouvez sans autre zoomer, d\u00e9-zoomer, interroger un objet en cliquant sur la carte, visualiser ces attributs. Conclusion L\u2019inspector est un outil que l\u2019on place tout au long de la transformation et qui nous permet de visualiser l\u2019\u00e9tat de la donn\u00e9e \u00e0 des endroits diff\u00e9rents. Lors du d\u00e9veloppement de grands workspaces (avec peut-\u00eatre plus de 1000 transformer), le d\u00e9veloppeur place des inspectors aux endroits strat\u00e9giques pour s\u2019assurer que la transformation s\u2019effectue comme souhait\u00e9.","title":"Inspection de donn\u00e9es avec FME"},{"location":"Inspection_de_donn\u00e9es_avec_FME.html#inspection-de-donnees-avec-fme","text":"","title":"Inspection de donn\u00e9es avec FME"},{"location":"Inspection_de_donn\u00e9es_avec_FME.html#objectif","text":"Premi\u00e8re prise en main du logiciel FME, nous allons simplement inspecter (visualiser) une donn\u00e9e g\u00e9ographique, sans y appliquer de modifications.","title":"Objectif"},{"location":"Inspection_de_donn\u00e9es_avec_FME.html#ressource","text":"Workspace : exo\\ex_ visualisation\\ ex_visualisation_start.fmw , nous d\u00e9butons l\u2019exercice avec un workpace vide. Donn\u00e9es : exo\\ex_ visualisation\\ communes_VD_GE_NE_FR_VS_BE.shp \u2013 fichier Shapefile des cantons romands.","title":"Ressource"},{"location":"Inspection_de_donn\u00e9es_avec_FME.html#exercice","text":"D\u00e9marrer FME Workbench Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. Ajout du MNT(reader) Cliquer sur l\u2019onglet \u00ab Main \u00bb. Puis sur : Puis ajouter le type de format shape file comme suit : Le Reader (input) doit \u00eatre d\u00e9fini comme suit : Le fichier ESRI Shape file \"communes_VD_GE_NE_FR_VS_BE.shp\" est s\u00e9lectionn\u00e9. Puis valider en cliquant sur \u00ab ok \u00bb. Un nouvel \u00e9l\u00e9ment est apparu dans la fen\u00eatre principale. Il s\u2019agit du reader que l\u2019on vient d\u2019ajouter. Ajout d\u2019un inspector L\u2019inspector est l\u2019outil (le transformer) qui nous permettra de visualiser la donn\u00e9e lorsque la transformation sera ex\u00e9cut\u00e9e. Pour ce faire, cliquer droite dans la fen\u00eatre principale, puis s\u00e9lectionner \u00ab Insert inspector \u00bb. Cela place l\u2019Inspector dans la fen\u00eatre principale. L\u2019\u00e9tape suivante consiste \u00e0 lier le reader \u00e0 notre outil d\u2019inspection (inspector), pour ce faire nous allons cr\u00e9er une liaison entre ces deux \u00e9l\u00e9ments. Cela s\u2019effectue en cliquant sur le triangle blanc \u00e0 droite du reader (output port) puis sur le triangle rouge \u00e0 gauche de l\u2019inspector (input port). Cela cr\u00e9e graphiquement une liaison entre ces deux \u00e9l\u00e9ments. Ainsi les donn\u00e9es qui seront lues \u00e0 travers le reader vont directement \u00eatre transmises dans l\u2019inspector pour y \u00eatre visualis\u00e9es. Ex\u00e9cuter le traitement Puis en ex\u00e9cutant le workspace dans la barre des outils ou simplement en cliquant sur : La lecture s\u2019effectue, nous constatons que 1146 objets ont \u00e9t\u00e9 lus depuis ce fichier ESRI Shape File. Visualiser la donn\u00e9e Une fen\u00eatre en bas de l\u2019\u00e9cran s\u2019est ouverte. Il s\u2019agit de l\u2019inspector. Vous pouvez sans autre zoomer, d\u00e9-zoomer, interroger un objet en cliquant sur la carte, visualiser ces attributs.","title":"Exercice"},{"location":"Inspection_de_donn\u00e9es_avec_FME.html#conclusion","text":"L\u2019inspector est un outil que l\u2019on place tout au long de la transformation et qui nous permet de visualiser l\u2019\u00e9tat de la donn\u00e9e \u00e0 des endroits diff\u00e9rents. Lors du d\u00e9veloppement de grands workspaces (avec peut-\u00eatre plus de 1000 transformer), le d\u00e9veloppeur place des inspectors aux endroits strat\u00e9giques pour s\u2019assurer que la transformation s\u2019effectue comme souhait\u00e9.","title":"Conclusion"},{"location":"Introduction.html","text":"Introduction Ce cours d\u2019introduction \u00e0 FME a \u00e9t\u00e9 cr\u00e9\u00e9 dans le cadre du CAS Coordination BIM de la Haute \u00e9cole d\u2019ing\u00e9nierie et d\u2019architecture Fribourg - HEIA-FR Objectif du cours Ce cours a pour objectif de montrer l\u2019utilisation de base de FME dans le cadre de la gestion de donn\u00e9es alphanum\u00e9riques et g\u00e9ographiques 2D et 3D. Mat\u00e9riel du cours Les exercices sont disponibles \u00e0 l\u2019adresse suivante : www.insersa.ch/training/cas_bim/course_material.zip Les slides sont disponibles sous : www.insersa.ch/training/cas_bim/slides.zip Pr\u00e9requis Ce cours est destin\u00e9 \u00e0 des personnes ayant l\u2019habitude de travailler avec des outils informatiques, mais sans pour autant avoir des connaissances en gestion de donn\u00e9es. FME 2019 ou plus r\u00e9cent INSER FME FME est l'outil incontournable pour l'\u00e9change, la transformation, le chargement et le contr\u00f4le des donn\u00e9es spatiales vectorielles ou raster. Capable de lire et d\u2019\u00e9crire plusieurs centaines de formats diff\u00e9rents (vectoriels, raster et non-spatiaux), FME s'impose comme un standard incontournable dans la manipulation de g\u00e9o-donn\u00e9es. Gr\u00e2ce \u00e0 une interface graphique intuitive (Workbench), vous pouvez concevoir vos processus de traitement de donn\u00e9es sans une seule ligne de code. Si vous souhaitez plus d\u2019informations concernant FME, contactez-nous \u00e0 fme@inser.ch . Vous pouvez t\u00e9l\u00e9charger FME Desktop et le tester durant 14 jours dans votre environnement en cliquant ici .","title":"Introduction"},{"location":"Introduction.html#introduction","text":"Ce cours d\u2019introduction \u00e0 FME a \u00e9t\u00e9 cr\u00e9\u00e9 dans le cadre du CAS Coordination BIM de la Haute \u00e9cole d\u2019ing\u00e9nierie et d\u2019architecture Fribourg - HEIA-FR","title":"Introduction"},{"location":"Introduction.html#objectif-du-cours","text":"Ce cours a pour objectif de montrer l\u2019utilisation de base de FME dans le cadre de la gestion de donn\u00e9es alphanum\u00e9riques et g\u00e9ographiques 2D et 3D.","title":"Objectif du cours"},{"location":"Introduction.html#materiel-du-cours","text":"Les exercices sont disponibles \u00e0 l\u2019adresse suivante : www.insersa.ch/training/cas_bim/course_material.zip Les slides sont disponibles sous : www.insersa.ch/training/cas_bim/slides.zip","title":"Mat\u00e9riel du cours"},{"location":"Introduction.html#prerequis","text":"Ce cours est destin\u00e9 \u00e0 des personnes ayant l\u2019habitude de travailler avec des outils informatiques, mais sans pour autant avoir des connaissances en gestion de donn\u00e9es. FME 2019 ou plus r\u00e9cent","title":"Pr\u00e9requis"},{"location":"Introduction.html#inser","text":"","title":"INSER"},{"location":"Introduction.html#fme","text":"FME est l'outil incontournable pour l'\u00e9change, la transformation, le chargement et le contr\u00f4le des donn\u00e9es spatiales vectorielles ou raster. Capable de lire et d\u2019\u00e9crire plusieurs centaines de formats diff\u00e9rents (vectoriels, raster et non-spatiaux), FME s'impose comme un standard incontournable dans la manipulation de g\u00e9o-donn\u00e9es. Gr\u00e2ce \u00e0 une interface graphique intuitive (Workbench), vous pouvez concevoir vos processus de traitement de donn\u00e9es sans une seule ligne de code. Si vous souhaitez plus d\u2019informations concernant FME, contactez-nous \u00e0 fme@inser.ch . Vous pouvez t\u00e9l\u00e9charger FME Desktop et le tester durant 14 jours dans votre environnement en cliquant ici .","title":"FME"},{"location":"Lecture_d\u2019un_fichier_IFC.html","text":"Lecture d\u2019un fichier IFC Objectif Lire un fichier IFC, puis l\u2019enregistrer en PDF 3D Ressource Workspace : exo\\ ex_lecture_ifc\\ ex_lecture_ifc_start.fmw, nous d\u00e9butons l\u2019exercice avec un workspace vide Donn\u00e9es : exo\\ ex_lecture_ifc\\ ressources\\Duplex_A.ifc \u2013 Fichier IFC, mod\u00e9lisation d\u2019une maison Exercice D\u00e9marrer FME Workbench. Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. Ajouter le fichier IFC (reader). Glisser d\u00e9poser le fichier IFC dans le canevas. Param\u00e9trer le reader comme suit : Puis valider le tout. Inspecter le fichier IFC. puis cliquer sur . Clic droit. Passer en mode 3D en cliquant sur (si ce n\u2019est pas d\u00e9j\u00e0 le cas) : Placer les properties Set sur les objets. Ajouter le tranformer \u00ab GeometryInstantiator \u00bb. Ajouter le fichier output (writer). Puis : Le workspace doit ressembler \u00e0 \u00e7a : Ex\u00e9cuter le scripten cliquant sur . Ouvrir le fichier PDF cr\u00e9\u00e9. Puis : Visualiser le r\u00e9sultat en d\u00e9sactivant certaines couches.","title":"Lecture d\u2019un fichier IFC"},{"location":"Lecture_d\u2019un_fichier_IFC.html#lecture-dun-fichier-ifc","text":"","title":"Lecture d\u2019un fichier IFC"},{"location":"Lecture_d\u2019un_fichier_IFC.html#objectif","text":"Lire un fichier IFC, puis l\u2019enregistrer en PDF 3D","title":"Objectif"},{"location":"Lecture_d\u2019un_fichier_IFC.html#ressource","text":"Workspace : exo\\ ex_lecture_ifc\\ ex_lecture_ifc_start.fmw, nous d\u00e9butons l\u2019exercice avec un workspace vide Donn\u00e9es : exo\\ ex_lecture_ifc\\ ressources\\Duplex_A.ifc \u2013 Fichier IFC, mod\u00e9lisation d\u2019une maison","title":"Ressource"},{"location":"Lecture_d\u2019un_fichier_IFC.html#exercice","text":"D\u00e9marrer FME Workbench. Cliquer sur FME Desktop > FME Workbench dans le menu d\u00e9marrer. Ajouter le fichier IFC (reader). Glisser d\u00e9poser le fichier IFC dans le canevas. Param\u00e9trer le reader comme suit : Puis valider le tout. Inspecter le fichier IFC. puis cliquer sur . Clic droit. Passer en mode 3D en cliquant sur (si ce n\u2019est pas d\u00e9j\u00e0 le cas) : Placer les properties Set sur les objets. Ajouter le tranformer \u00ab GeometryInstantiator \u00bb. Ajouter le fichier output (writer). Puis : Le workspace doit ressembler \u00e0 \u00e7a : Ex\u00e9cuter le scripten cliquant sur . Ouvrir le fichier PDF cr\u00e9\u00e9. Puis : Visualiser le r\u00e9sultat en d\u00e9sactivant certaines couches.","title":"Exercice"},{"location":"Transformation_de_format.html","text":"Transformation de format Objectif L\u2019exercice pr\u00e9c\u00e9dent nous a montr\u00e9 comment ins\u00e9rer un fichier source (input). Nous allons voir maintenant comment la cr\u00e9ation d\u2019un nouveau fichier destination (output) peut \u00eatre effectu\u00e9e. Pour ce faire nous allons ajouter un \u00ab Writer \u00bb. Ressource Workspace : Partons depuis le workspace de l\u2019exercice pr\u00e9c\u00e9dent (encore ouvert, ou bien se trouvant sous exo\\ex_tansformation_format \\ ex_tansformation_format _start.fmw). Donn\u00e9es : exo \\ ex_tansformation_format \\ ressources\\communes_VD_GE_NE_FR_VS_BE.shp \u2013 fichier Shapefile des cantons romands Exercice Ajouter un Writer Le writer s\u2019ajout en cliquant sur : Dans la liste de format, cliquer sur \u00ab More formats \u00bb. Une fen\u00eatre s\u2019ouvre avec tous les formats qui peuvent \u00eatre utilis\u00e9s. Puis dans la zone de recherche, taper \u00abfilegdb \u00bb puis s\u00e9lectionner le format propos\u00e9. De retour dans la premi\u00e8re fen\u00eatre, ins\u00e9rer le chemin de destination du fichier (par exemple out.gdb). Un nouvel \u00e9l\u00e9ment appara\u00eet dans la fen\u00eatre principale, il s\u2019agit du writer ESRI file GDB. Relier le reader au writer puis supprimer l\u2019inspector Ainsi les donn\u00e9es vont \u00eatre lues depuis le reader ESRI Shape file, puis converties en ESRI File GDB. Ajouter un second writer Nous souhaitons aussi obtenir un listing Excel de nos donn\u00e9es (sans conserver la g\u00e9om\u00e9trie bien-s\u00fbr). Pour ce faire, nous allons ajouter un second writer Microsoft Excel. La fen\u00eatre principale inclut maintenant ce second writer. Ex\u00e9cuter le traitement Puis en ex\u00e9cutant le workspace dans la barre des outils ou simplement en cliquant sur : Les 1146 objets ont correctement \u00e9t\u00e9 lus, puis \u00e9crits dans le r\u00e9pertoire de destination. Visualiser les nouvelles donn\u00e9es Naviguer dans le r\u00e9pertoire et v\u00e9rifier que les deux nouveaux fichiers ont bien \u00e9t\u00e9 cr\u00e9\u00e9s. Conclusion FME permet la lecture et l\u2019\u00e9criture dans plusieurs centaines de formats diff\u00e9rents. La liste compl\u00e8te des formats peut \u00eatre accessible sous : https://www.safe.com/fme/formats-matrix .","title":"Transformation de format"},{"location":"Transformation_de_format.html#transformation-de-format","text":"","title":"Transformation de format"},{"location":"Transformation_de_format.html#objectif","text":"L\u2019exercice pr\u00e9c\u00e9dent nous a montr\u00e9 comment ins\u00e9rer un fichier source (input). Nous allons voir maintenant comment la cr\u00e9ation d\u2019un nouveau fichier destination (output) peut \u00eatre effectu\u00e9e. Pour ce faire nous allons ajouter un \u00ab Writer \u00bb.","title":"Objectif"},{"location":"Transformation_de_format.html#ressource","text":"Workspace : Partons depuis le workspace de l\u2019exercice pr\u00e9c\u00e9dent (encore ouvert, ou bien se trouvant sous exo\\ex_tansformation_format \\ ex_tansformation_format _start.fmw). Donn\u00e9es : exo \\ ex_tansformation_format \\ ressources\\communes_VD_GE_NE_FR_VS_BE.shp \u2013 fichier Shapefile des cantons romands","title":"Ressource"},{"location":"Transformation_de_format.html#exercice","text":"Ajouter un Writer Le writer s\u2019ajout en cliquant sur : Dans la liste de format, cliquer sur \u00ab More formats \u00bb. Une fen\u00eatre s\u2019ouvre avec tous les formats qui peuvent \u00eatre utilis\u00e9s. Puis dans la zone de recherche, taper \u00abfilegdb \u00bb puis s\u00e9lectionner le format propos\u00e9. De retour dans la premi\u00e8re fen\u00eatre, ins\u00e9rer le chemin de destination du fichier (par exemple out.gdb). Un nouvel \u00e9l\u00e9ment appara\u00eet dans la fen\u00eatre principale, il s\u2019agit du writer ESRI file GDB. Relier le reader au writer puis supprimer l\u2019inspector Ainsi les donn\u00e9es vont \u00eatre lues depuis le reader ESRI Shape file, puis converties en ESRI File GDB. Ajouter un second writer Nous souhaitons aussi obtenir un listing Excel de nos donn\u00e9es (sans conserver la g\u00e9om\u00e9trie bien-s\u00fbr). Pour ce faire, nous allons ajouter un second writer Microsoft Excel. La fen\u00eatre principale inclut maintenant ce second writer. Ex\u00e9cuter le traitement Puis en ex\u00e9cutant le workspace dans la barre des outils ou simplement en cliquant sur : Les 1146 objets ont correctement \u00e9t\u00e9 lus, puis \u00e9crits dans le r\u00e9pertoire de destination. Visualiser les nouvelles donn\u00e9es Naviguer dans le r\u00e9pertoire et v\u00e9rifier que les deux nouveaux fichiers ont bien \u00e9t\u00e9 cr\u00e9\u00e9s.","title":"Exercice"},{"location":"Transformation_de_format.html#conclusion","text":"FME permet la lecture et l\u2019\u00e9criture dans plusieurs centaines de formats diff\u00e9rents. La liste compl\u00e8te des formats peut \u00eatre accessible sous : https://www.safe.com/fme/formats-matrix .","title":"Conclusion"}]}